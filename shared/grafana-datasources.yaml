# apiVersion: 1

# datasources:
# - name: Prometheus
#   type: prometheus
#   uid: prometheus
#   url: http://prometheus:9090
#   isDefault: false

# - name: Tempo
#   type: tempo
#   uid: tempo
#   url: http://tempo:3200
#   isDefault: true
#   jsonData:
#     serviceMap:
#       datasourceUid: prometheus
#     streamingEnabled:
#       search: true

apiVersion: 1
datasources:
  # Prometheus backend where metrics are sent
  - name: Prometheus
    type: prometheus
    uid: prometheus
    url: http://prometheus:9090
    jsonData:
        httpMethod: GET
    version: 1
  - name: Tempo
    type: tempo
    uid: tempo
    url: http://tempo:3200
    jsonData:
      httpMethod: GET
      serviceMap:
        datasourceUid: 'prometheus'
      # streamingEnabled:   # This is culprit enabling this, throws this Query Error: rpc error: code = Unavailable desc = connection error: desc = "error reading server preface: http2: frame too large"
      #   search: true 
    version: 1